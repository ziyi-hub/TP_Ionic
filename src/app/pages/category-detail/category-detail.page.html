<!-- <ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tab/home"></ion-back-button>
    </ion-buttons>
    <ion-title>
      {{ this.category?.name }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="share-social-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button></ion-back-button>
      </ion-buttons>
      <ion-title size="large">{{this.category?.name}}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-list>
    @for (recipe of recipes; track recipe?.id) {
      <ion-item-sliding #recipesItem data-testid="recipes">
        <ion-item-options side="start">
          <ion-item-option color="success" (click)="updateRecipe(recipe.id);closeIonSliding(recipesItem)">
            <ion-icon name="pencil-outline"></ion-icon>
          </ion-item-option>
        </ion-item-options>
        <ion-item (click)="showRecipe(this.category!.id, recipe.id)">
          <ion-label>{{ recipe.name }}</ion-label>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option color="danger" (click)="presentAlertDelete(this.deleteRecipe.bind(this, this.username!), recipe.id, recipe.name);closeIonSliding(recipesItem)">
            <ion-icon name="trash-outline"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    }
  </ion-list> -->

<!-- <ion-content color="light">
  <ion-card *ngFor="let recipe of recipes">
    <ion-card-content class="bg-img-style" style="background-image: url({{recipe.img}});"></ion-card-content>
    <ion-item detail lines="none" color="primary">
      <ion-label>
        <h1>{{recipe.name}}</h1>
      </ion-label>
    </ion-item>
  </ion-card>
</ion-content> -->


<!--<ion-content [fullscreen]="true">-->
<!--  <ion-header collapse="condense">-->
<!--    <ion-toolbar>-->
<!--      <ion-buttons slot="start">-->
<!--        <ion-back-button></ion-back-button>-->
<!--      </ion-buttons>-->
<!--      <ion-title size="large">{{this.topic?.name}}</ion-title>-->
<!--    </ion-toolbar>-->
<!--  </ion-header>-->
<!--  <ion-list>-->
<!--    @for (post of posts; track post?.id) {-->
<!--      <ion-item-sliding #postsItem data-testid="posts">-->
<!--        <ion-item-options side="start">-->
<!--          <ion-item-option color="success" (click)="editPost(post.id);closeIonSliding(postsItem)">-->
<!--            <ion-icon name="pencil-outline"></ion-icon>-->
<!--          </ion-item-option>-->
<!--        </ion-item-options>-->
<!--        <ion-item (click)="showPost(this.topic!.id, post.id)">-->
<!--          <ion-label>{{ post.name }}</ion-label>-->
<!--        </ion-item>-->
<!--        <ion-item-options side="end">-->
<!--          <ion-item-option color="danger" (click)="presentAlertDelete(this.deletePost.bind(this), post.id, post.name);closeIonSliding(postsItem)">-->
<!--            <ion-icon name="trash-outline"></ion-icon>-->
<!--          </ion-item-option>-->
<!--        </ion-item-options>-->
<!--      </ion-item-sliding>-->
<!--    }-->
<!--  </ion-list>-->
<!--</ion-content>-->

<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tab/home"></ion-back-button>
    </ion-buttons>
    <ion-title>
      {{ this.category?.name }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="share-social-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content color="light" class="ion-padding">
  <ng-container *ngIf="recipes.length > 0; else otherContent">
    <ion-card *ngFor="let recipe of recipes" class="ion-no-margin ion-margin-top">
      <ion-button fill="clear" class="button-right-top"  id="ellipsis" (click)="presentActionSheet(recipe)">
        <ion-icon slot="icon-only" name="ellipsis-vertical"></ion-icon>
      </ion-button>
      <ion-action-sheet trigger="open-action-sheet" header="Actions" [buttons]="actionSheetButtons"></ion-action-sheet>

      <ion-card-content *ngIf="recipe.imgUrl; else defaultImg" (click)="showRecipe(category!.id, recipe.id)" style="background-image: url({{recipe.imgUrl}});"></ion-card-content>
      <ng-template #defaultImg>
        <ion-card-content (click)="showRecipe(category!.id, recipe.id)" style="background-image: url(../../../assets/img/photo_default.png);"></ion-card-content>
      </ng-template>
        <ion-item detail lines="none" color="primary" (click)="showRecipe(category!.id, recipe.id)">
        <ion-label>
          <h1>{{recipe.name}}</h1>
        </ion-label>
      </ion-item>
    </ion-card>
  </ng-container>

  <ng-template class="ion-wrap" #otherContent>
    <ion-item>
      <ion-label color="medium" class="ion-padding ion-text-center">
        No recipes found!
      </ion-label>
    </ion-item>
  </ng-template>
</ion-content>

<ion-fab slot="fixed" vertical="bottom" horizontal="end">
  <ion-fab-button id="open-modal" data-testid="open-new-post-modal-btn" expand="block" (click)="createRecipe()">
    <ion-icon name="add-circle"></ion-icon>
  </ion-fab-button>
</ion-fab>




